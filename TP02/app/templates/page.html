{% extends "base.html" %}

{% block content %}

        <nav class="navbar navbar-light bg-light justify-content-between">
            <a href="/" class="navbar-brand">To Do List <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-list-check" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3.854 2.146a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708L2 3.293l1.146-1.147a.5.5 0 0 1 .708 0zm0 4a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708L2 7.293l1.146-1.147a.5.5 0 0 1 .708 0zm0 4a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"/></svg>
            </a>

            

            <form class="form-inline" action="/add" method="POST">

              <!-- <input class="form-control mr-sm-2" type="search" placeholder="Add a new task" aria-label="Search"> -->
              <input class="form-control mr-sm-2" type="text" name="todoitem" id="task" placeholder="Add a new task"  />
              <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Submit</button>
            </form>
          </nav>




          <!-- space -->
          <div><p> </p></div>




          <div class="container">
        
        
        
        <a href="/done_all_tasks"class="btn btn-light btn-sm"><svg width="1em" height="1em" viewBox="0 0 22 22" class="bi bi-check-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M10.219,1.688c-4.471,0-8.094,3.623-8.094,8.094s3.623,8.094,8.094,8.094s8.094-3.623,8.094-8.094S14.689,1.688,10.219,1.688 M10.219,17.022c-3.994,0-7.242-3.247-7.242-7.241c0-3.994,3.248-7.242,7.242-7.242c3.994,0,7.241,3.248,7.241,7.242C17.46,13.775,14.213,17.022,10.219,17.022 M15.099,7.03c-0.167-0.167-0.438-0.167-0.604,0.002L9.062,12.48l-2.269-2.277c-0.166-0.167-0.437-0.167-0.603,0c-0.166,0.166-0.168,0.437-0.002,0.603l2.573,2.578c0.079,0.08,0.188,0.125,0.3,0.125s0.222-0.045,0.303-0.125l5.736-5.751C15.268,7.466,15.265,7.196,15.099,7.03"></path>
            </svg></a>
        <span class="badge badge-info">   {{tasks['tasks_to_do']|length}}</span>  Tasks to do :  

        

        <!-- space -->
        <div><p> </p></div>
        
        

        
        {% if tasks['tasks_to_do'] %}
            <table class="table">
                <tbody>
                    {% for (key, val) in tasks['tasks_to_do'].items()  %}
                    <!-- <li> <input type="checkbox"> {{val['text']}} <a href="/delete/{{ key }}">[X] </a></li> -->

                    <tr>
                        <td>
                            <a href="/done/{{ key }}" class="btn btn-info btn-sm"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                <path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"/>
                            </svg></a>
                            
                        </td>

                        <td>{{val['text']}}</td>

                        <td>
                            <a class="btn btn-light btn-sm" data-toggle="modal" data-target="#exampleModalCenter"> Edit <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-vector-pen" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M10.646.646a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708l-1.902 1.902-.829 3.313a1.5 1.5 0 0 1-1.024 1.073L1.254 14.746 4.358 4.4A1.5 1.5 0 0 1 5.43 3.377l3.313-.828L10.646.646zm-1.8 2.908l-3.173.793a.5.5 0 0 0-.358.342l-2.57 8.565 8.567-2.57a.5.5 0 0 0 .34-.357l.794-3.174-3.6-3.6z"/>
                                <path fill-rule="evenodd" d="M2.832 13.228L8 9a1 1 0 1 0-1-1l-4.228 5.168-.026.086.086-.026z"/>
                            </svg></a>
                        </td>
    
                    </tr>

                        <!-- Modal -->
                        <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">

                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLongTitle">Edit task:</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>

                            <div class="modal-body">
                                <form class="form-inline" action="/modify/{{ key }}" method="POST">

                                    <div class="form-group">
                                        <!-- <input type="text" class="form-control" id="recipient-name" placeholder="{{val['text']}}"> -->
                                        <input type="text" name="modifitem" class="form-control" id="task" aria-label="savechanges"  >
                                        
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                            <button  type="submit" class="btn btn-primary" aria-label="savechanges">Save changes</button>
                                        </div>
                                    </div>
                                </form>
                            </div> 
                            </div>
                            </div>
                        </div>

                    {% endfor %}

                </tbody>
            </table>

        {% else %}
                <div class="alert alert-light" role="alert">There is no task ... Try to add a new task </div>
                
                 <!-- space -->
                 <div><p> </p></div>

        {% endif %}     
       

        <a href="/delete_tasks_done"class="btn btn-light btn-sm"><svg width="1em" height="1em" viewBox="0 0 20 20" class="bi bi-check-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M17.114,3.923h-4.589V2.427c0-0.252-0.207-0.459-0.46-0.459H7.935c-0.252,0-0.459,0.207-0.459,0.459v1.496h-4.59c-0.252,0-0.459,0.205-0.459,0.459c0,0.252,0.207,0.459,0.459,0.459h1.51v12.732c0,0.252,0.207,0.459,0.459,0.459h10.29c0.254,0,0.459-0.207,0.459-0.459V4.841h1.511c0.252,0,0.459-0.207,0.459-0.459C17.573,4.127,17.366,3.923,17.114,3.923M8.394,2.886h3.214v0.918H8.394V2.886z M14.686,17.114H5.314V4.841h9.372V17.114z M12.525,7.306v7.344c0,0.252-0.207,0.459-0.46,0.459s-0.458-0.207-0.458-0.459V7.306c0-0.254,0.205-0.459,0.458-0.459S12.525,7.051,12.525,7.306M8.394,7.306v7.344c0,0.252-0.207,0.459-0.459,0.459s-0.459-0.207-0.459-0.459V7.306c0-0.254,0.207-0.459,0.459-0.459S8.394,7.051,8.394,7.306"></path>
            </svg></a>
        <span class="badge badge-success btn-sm">{{tasks['tasks_done']|length}}</span> Tasks done : 

        
        <!-- space -->
        <div><p> </p></div>
        



        {% if tasks['tasks_done'] %}
            <table class="table">
                <tbody>
                    {% for (key, val) in tasks['tasks_done'].items()  %}
                    <!-- <li> <input type="checkbox"> {{val['text']}} <a href="/delete/{{ key }}">[X] </a></li> -->

                    <tr>
                        <td>
                            <a href="/undo/{{ key }}" class="btn btn-success btn-sm"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                <path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"/>
                            </svg></a>   
                        </td>

                        <td>{{val['text']}}</td>

                        <td>
                            <a href="/delete/{{ key }}" class="btn btn-light btn-sm"> Delete <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                                <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                            </svg></a>
                        </td>
                        


                        
                    </tr>

                    {% endfor %}

                </tbody>
            </table>

        {% else %}
                <div class="alert alert-light" role="alert"> There is no task done yet ... </div>
        {% endif %}
        

        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-dot" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/></svg> 
        Total : <span class="badge badge-secondary btn-sm"> {{tasks['tasks_to_do']|length + tasks['tasks_done']|length}} </span>

    </div>







    <!-- space -->
    <div><p> </p></div>
    <!-- space -->
    <div><p> </p></div>
    <!-- space -->
    <div><p> </p></div>




      
{% endblock %}